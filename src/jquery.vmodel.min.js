// v 1.3
!function(o){o.vmodel={};var e=null,t={};o.vmodel.api=new function(){this.each_autoload=function(t,n){o.each(t,function(t,r){"function"!=o.type(n[r])&&e.msg_error(r,"不存在。"),n[r]()})},this.is_trigger_autocall=function(t){if(t.autoload){var n=o.type(t.autoload);if("function"==n)var r=t.autoload();else if("array"==n)var r=t.autoload;else e.msg_error("autoload","格式錯誤，型態只能是 function 或 array。");o.vmodel.api.each_autoload(r,t)}}},o.vmodel.get=function(e,n){if(!e)return t;var r=t[e];return r?(1==n&&o.vmodel.api.is_trigger_autocall(r),t[e]):(console.log("呼叫的倉儲名稱 "+e+" 不存在。"),!1)},o.vmodel["delete"]=function(o){return t[o]&&delete t[o],this},o.fn.vmodel=function(n,r,a){e=this;var i=e.selector;if("string"==o.type(n))if("boolean"==o.type(r))var l=new a;else var l=new r;else var l=new n;l.selector=i,l.root=o(this),this.msg_error=function(o,e){console.log("發生錯誤。『"+i+"』呼叫的 function 『"+o+"』："+e)},this.main=function(){return"boolean"==o.type(r)&&r===!1||o.vmodel.api.is_trigger_autocall(l),l};var u=this.main();if("string"==o.type(n)){if(t[n])return console.log("倉儲名稱『"+n+"』重複。"),!1;t[n]=u}return this}}(jQuery);
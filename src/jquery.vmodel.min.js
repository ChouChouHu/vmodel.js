//1.4
!function(o){o.vmodel={};var t=null,e={};o.vmodel.api=new function(){this.obj_sort=function(t){var e=[],n=0;o.each(t,function(o,t){e[n++]=o}),e.sort();var r={};return o.each(e,function(o,e){r[e]=t[e]}),r},this.each_autoload=function(e,n){o.each(e,function(e,r){"function"!=o.type(n[r])&&t.msg_error(r,"不存在。"),n[r]()})},this.is_trigger_autocall=function(e){if(e.autoload){var n=o.type(e.autoload);if("function"==n){var r=e.autoload();if("array"!=o.type(r))return!1;i=r}else if("array"==n)var i=e.autoload;else t.msg_error("autoload","格式錯誤，型態只能是 function 或 array。");o.vmodel.api.each_autoload(i,e)}}},o.vmodel.get=function(t,n){if(!t)return o.vmodel.api.obj_sort(e);var r=e[t];return r?(1==n&&o.vmodel.api.is_trigger_autocall(r),e[t]):(console.log("呼叫的倉儲名稱 "+t+" 不存在。"),!1)},o.vmodel["delete"]=function(o){return e[o]&&delete e[o],this},o.fn.vmodel=function(n,r,i){t=this;var a=t.selector;if(this.remove_sign=function(o){return"--"==o.substring(0,2)?o.substring(2):o},this.msg_error=function(o,t){console.log("發生錯誤。『"+a+"』呼叫的 function 『"+o+"』："+t)},this.main=function(){return"boolean"==o.type(r)&&r===!1||o.vmodel.api.is_trigger_autocall(u),u},"string"==o.type(n))if(n=t.remove_sign(n),"boolean"==o.type(r))var u=new i;else var u=new r;else var u=new n;u.selector=a,u.root=o(this);var l=this.main();if("string"==o.type(n)){if(e[n])return console.log("倉儲名稱『"+n+"』重複。"),!1;e[n]=l}return this}}(jQuery);
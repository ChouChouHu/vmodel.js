//v 1.2
!function(o){o.vmodel={},o.vmodel.local=null,o.vmodel.storage={},o.vmodel.api=new function(){this.each_autoload=function(e,a){o.each(e,function(e,l){"function"!=o.type(a[l])&&o.vmodel.local.msg_error(l,"不存在。"),a[l]()})},this.is_trigger_autocall=function(e){if(e.autoload){var a=o.type(e.autoload);if("function"==a)var l=e.autoload();else if("array"==a)var l=e.autoload;else o.vmodel.local.msg_error("autoload","格式錯誤，型態只能是 function 或 array。");o.vmodel.api.each_autoload(l,e)}}},o.vmodel.get=function(e,a){if(!e)return o.vmodel.storage;var l=o.vmodel.storage[e];return l?(1==a&&o.vmodel.api.is_trigger_autocall(l),o.vmodel.storage[e]):(console.log("呼叫的倉儲名稱 "+e+" 不存在。"),!1)},o.fn.vmodel=function(e,a,l){o.vmodel.local=this;var t=o.vmodel.local.selector;if("string"==o.type(e))if("boolean"==o.type(a))var r=new l;else var r=new a;else var r=new e;r.selector=t,r.root=o(t),this.msg_error=function(o,e){console.log("發生錯誤。『"+t+"』呼叫的 function 『"+o+"』："+e)},this.main=function(){return"boolean"==o.type(a)&&a===!1||o.vmodel.api.is_trigger_autocall(r),r};var n=this.main();return"string"==o.type(e)&&(o.vmodel.storage[e]=n),this}}(jQuery);
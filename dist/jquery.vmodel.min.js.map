{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/jquery.vmodel.fn.js","webpack:///./src/jquery.vmodel.create.js","webpack:///./src/jquery.vmodel.delete.js","webpack:///./src/jquery.vmodel.get.js","webpack:///./src/jquery.vmodel.history.js","webpack:///./src/jquery.vmodel.end.js","webpack:///./src/jquery.vmodel.version.js","webpack:///./src/jquery.vmodel.api.js","webpack:///./src/jquery.vmodel.init.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","t","e","$","jQuery","fn","vmodel","param","type","console","log","create","local","this","selector","msg_error","msg","model","define_autoload_struct","obj","autoload_func","each","index","fun_name","fun_struct","ext_expend","model_name","vname","extend","root","struct","status","key","val","put_storage","realobj","_storage","main","api","isallow_jqver","check_input_param","isautoload","method","pary","vmodel_param_match","result","get_autoload_funame","message","fnameary","data","is_trigger_autoload","delete","p_2","p_3","is_trigger_callback","allow","bool","push_endbox","Date","timestamp","parse","getMilliseconds","exist_history_data","endbox","length","push","set_display_attr","target_obj","encode","JSON","stringify","attr","param_match","returnary","type_name","autoload","listen","obj_sort","type_listen","vmodel_get_callback","iid","setInterval","clearInterval","history","info","end","end_p1","end_p2","storage","callback","id","iscallback","storage_name","version","_version","history_box","action","remove_sign","str","substring","is_err_msg","jquery","charAt","p_1","p_4","temp","sort","each_autoload","autoload_method_ary","is_trigger_all","function_name","ary","atype","res"],"mappings":"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","file":"jquery.vmodel.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","(function ($) {\r\n\r\n    $.fn.vmodel = function (param){\r\n        if ($.type(param) !== \"object\") {\r\n            console.log(\"參數型態需要是 object\");\r\n            return false;\r\n        }\r\n        $.vmodel.create(param);\r\n    }\r\n\r\n}( jQuery ));","(function ($) {\r\n\r\n    $.vmodel.create = function (param){\r\n        \r\n        // 內部\r\n        var local   = this;\r\n\r\n        // 選擇器\r\n        var selector = param.selector;\r\n        \r\n        /**\r\n         * 錯誤訊息\r\n         * @param   method_name 提示錯誤的 function 名稱\r\n         * @param   msg         錯誤訊息    \r\n         */\r\n        this.msg_error = function (msg){\r\n            console.log(\"錯誤！\" + param.model + ' ' + msg);\r\n        }\r\n\r\n\r\n        // 初始化使用者指定的 autoload 每個方法的建構狀態\r\n        this.define_autoload_struct = function (obj, autoload_func){\r\n            // 為每一個方法，都設定為 false，代表該方法還沒有建構完成\r\n            $.each(autoload_func, function(index, fun_name) {\r\n                obj.fun_struct[fun_name] = false;\r\n            });\r\n        }\r\n\r\n        // 外部擴充方法\r\n        this.ext_expend = function (obj, model_name){\r\n            var vname = (model_name != null) ? model_name : null;\r\n            $.extend(obj, {\r\n\r\n                vname : vname,\r\n\r\n                // 根選擇器\r\n                selector : selector,        \r\n\r\n                // 根選擇器物件    \r\n                root : $(selector),\r\n\r\n                // 在倉儲中建立一個 fun_struct 物件\r\n                // 用來存放每個 autoload 的方法名稱，\r\n                // 並預設建構狀態為 false, 等到使用者手動為 true，\r\n                // 才代表這個方法完成建構。\r\n                fun_struct : {},\r\n\r\n                /**\r\n                 * 提供外部指定倉儲的模組化狀態。\r\n                 * @param   model_name   autoload 指定的陣列倉儲名稱。可以是單一名稱會陣列。\r\n                 *                 如 \"say\" 或 ['say', 'hello']\r\n                 * @param   bool   (選) true:(預設)完成 | false : 未完成\r\n                 */\r\n                struct : function (model_name, status) {\r\n\r\n                    if ($.type(status) != \"boolean\" && !status) {\r\n                        status = true;\r\n                    }\r\n\r\n\r\n                    // 若使用字串\r\n                    if ($.type(model_name) == \"string\") {\r\n                        if ($.type(obj.fun_struct[model_name]) != \"boolean\") {\r\n                            local.msg_error('找不到名稱為 ' + model_name + '的建構狀態');\r\n                            return false;\r\n                        }\r\n\r\n                        // 設定指定狀態\r\n                        obj.fun_struct[model_name] = status;\r\n                    }\r\n\r\n                    // 若是陣列如 ['say', 'hello']\r\n                    else if ($.type(model_name) == \"array\"){\r\n                        $.each(model_name, function (key, val){\r\n                            obj.fun_struct[val] = status;\r\n                        })\r\n                    }\r\n                    else {\r\n                        local.msg_error('建構名稱須要指定');\r\n                        return false;\r\n                    }\r\n\r\n                    return true;\r\n                }\r\n            });\r\n            return obj;\r\n        }\r\n\r\n        // 放入倉儲\r\n        this.put_storage = function (model_name, realobj){\r\n\r\n            if (model_name != null) {\r\n\r\n                // 檢查是否已存在\r\n                if (!$.vmodel._storage[model_name]) {\r\n                    $.vmodel._storage[model_name] = realobj;\r\n                }\r\n                else {\r\n                    local.msg_error(\"倉儲名稱已被使用。\");\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        this.main = function (param){\r\n\r\n            // 判斷 jQ 版本是否允許\r\n            if (!$.vmodel.api.isallow_jqver(false)) throw ($.vmodel.api.isallow_jqver(true));\r\n\r\n            // 確認必填參數\r\n            $.vmodel.api.check_input_param({\r\n                selector : param.selector, \r\n                model_name : param.model, \r\n                isautoload : param.isautoload, \r\n                method : param.method\r\n            });\r\n\r\n            // 參數對應\r\n            var pary       = $.vmodel.api.vmodel_param_match(param.selector, param.model, param.isautoload, param.method);\r\n            var selector   = pary[0];\r\n            var model_name = pary[1]; \r\n            var isautoload = pary[2]; \r\n            var realobj    = pary[3];\r\n\r\n            // 擴充，外部不可使用這些關鍵字\r\n            var realobj    = local.ext_expend(realobj, model_name);\r\n            \r\n            // 取得 autoload 的方法陣列\r\n            var result = $.vmodel.api.get_autoload_funame(realobj);\r\n            if (result.status === false) {\r\n                local.msg_error(result.message);\r\n                return false;\r\n            }\r\n\r\n            var fnameary = result.data;\r\n\r\n            // 先定義建構狀態\r\n            local.define_autoload_struct(realobj, fnameary);\r\n\r\n            // 放入倉儲\r\n            var result = local.put_storage(model_name, realobj);\r\n            if (result === false) return false;\r\n\r\n            // 最後才觸發 autoload 。\r\n            // 這是因為當前的物件，才能被任何倉儲裡的方法取得。\r\n            // 例如自己呼叫自己。\r\n            if (isautoload === true) {\r\n\r\n                var result = $.vmodel.api.is_trigger_autoload(realobj, fnameary);\r\n\r\n                if (result.status === false) {\r\n                    local.msg_error(result.message);\r\n                    return false;\r\n                }\r\n            }\r\n            \r\n            return this;\r\n        }\r\n\r\n        // 返回實體化的，可供外部調用\r\n        return local.main(param);\r\n    }\r\n    \r\n\r\n}( jQuery ));","(function ($) {\r\n\r\n    /**\r\n     * 刪除指定的倉儲\r\n     * @param   model_name (選)倉儲名稱, 不指定會清空所有倉儲\r\n     */\r\n    $.vmodel.delete = function (model_name){\r\n        \r\n        if (!model_name && model_name != '') {\r\n            $.vmodel._storage = {};\r\n        } else {\r\n            if ($.vmodel._storage[model_name]) {\r\n                delete $.vmodel._storage[model_name];\r\n            }\r\n        }\r\n        \r\n        return this;\r\n    }\r\n\r\n}( jQuery ));","(function ($) {\r\n\r\n    /**\r\n     * 取得倉儲\r\n     * @param   string            model_name    (選) 倉儲的存放名稱。當為空時，返回所有倉儲\r\n     * @param   bool              p_2     (選) 預設 false, 是否觸發倉儲 autoload\r\n     * @param   function | bool   p_3     (選) 是否啟用監聽並添加視覺化屬性。\r\n     *                                         注意，這是非同步。\r\n     *                                         function :   監聽直到完成模組後會觸發 callback，並夾帶了該倉儲。\r\n     *                                         true :       true 僅啟用監聽。\r\n     *                                         \r\n     * @return  object\r\n     */\r\n    $.vmodel.get = function (model_name, p_2, p_3){\r\n\r\n        var local = this;\r\n\r\n        // 判斷是否可以觸發回調 callback，\r\n        // 條件式當所有狀態都是 true\r\n        this.is_trigger_callback = function (obj){\r\n\r\n            var allow = true;\r\n\r\n            $.each(obj.fun_struct, function(index, bool) {\r\n\r\n                // 如果遇到沒有初始化的，就終止檢查\r\n                if (bool == false) {\r\n                    allow = false;\r\n                    return false;\r\n                }\r\n\r\n            });\r\n\r\n            // 如果不允許就離開\r\n            // 若 autoload 中的方法都已經建構完成，那就可以呼叫回調 \r\n            return (allow == false) ? false : true;\r\n        }\r\n\r\n        // 添加到結束紀錄盒\r\n        this.push_endbox = function (model_name){\r\n            var d = new Date();\r\n\r\n            // 建立一個物件\r\n            var data = [{\r\n                vname: model_name, // 倉儲名稱\r\n                status: true, // 完成\r\n                timestamp : Date.parse(d) + \".\" + d.getMilliseconds(), //時間戳記\r\n            }];\r\n\r\n\r\n            var exist_history_data = $.vmodel.api.endbox(\"get\");\r\n\r\n            // 如果不是在結束紀錄盒中的第一個模組\r\n            if ($(exist_history_data).length > 0) {\r\n\r\n                // 合併已存在的，務必使用 data[0] 剝除外面的陣列。\r\n                exist_history_data.push(data[0]); \r\n                \r\n                // 替換\r\n                data = exist_history_data;\r\n            }\r\n\r\n            // 添加變數紀錄\r\n            $.vmodel.api.endbox(\"set\", data);\r\n\r\n            return data;\r\n        }\r\n\r\n        // 視覺化屬性\r\n        this.set_display_attr = function (target_obj, data){\r\n\r\n            var encode = JSON.stringify(data);\r\n            target_obj.root.attr(\"data-vmodel-history\", encode); \r\n        }\r\n\r\n        // 僅做對應參數的輔助\r\n        this.param_match = function (model_name, p_2, p_3) {\r\n            var returnary = [];\r\n            var type_name = $.type(model_name);\r\n\r\n            // 返回所有倉儲\r\n            if (!model_name) {\r\n                returnary = [model_name, null, null];\r\n            }\r\n            // 指定一個倉儲名稱\r\n            else if (type_name == \"string\") {\r\n                returnary = [model_name, p_2, p_3];\r\n            }\r\n\r\n            return returnary;\r\n        }\r\n\r\n        // 重新命名\r\n        var pary     = local.param_match(model_name, p_2, p_3);\r\n        var model_name     = pary[0];\r\n        var autoload = pary[1];\r\n        var listen   = pary[2];\r\n        pary = p_2 = p_3 = null;\r\n\r\n\r\n        // 返回所有倉儲\r\n        if (!model_name) {\r\n            return $.vmodel.api.obj_sort($.vmodel._storage);\r\n        }\r\n\r\n        var target_obj = $.vmodel._storage[model_name];\r\n        \r\n        // 呼叫的倉儲並不存在\r\n        if (!target_obj) {\r\n            console.log(\"呼叫的倉儲名稱 \"+ model_name +\" 不存在。\");\r\n            return false;\r\n        }\r\n\r\n        // 若參數2指定 bool 且為 true 的時候，會前往判斷，是否要觸發剛取得模組的 autoload()，若有就會優先觸發\r\n        if ($.type(autoload) == \"boolean\" && autoload == true) {\r\n\r\n            // 觸發 autoload()\r\n            var result = $.vmodel.api.get_autoload_funame(target_obj);\r\n            var fnameary = result.data;\r\n            \r\n            var result   = $.vmodel.api.is_trigger_autoload(target_obj, fnameary);\r\n\r\n            // 若有啟用監聽或回調函數\r\n            var type_listen = $.type(listen);\r\n            if (type_listen == \"function\" || (type_listen == \"boolean\" && listen == true)) {\r\n\r\n                // 若是回調\r\n                if (type_listen == \"function\") {\r\n                    // 必須先擴充到該模組底下，避免多個倉儲會互相干擾\r\n                    target_obj.vmodel_get_callback = function (){\r\n                        listen.call(this, target_obj);\r\n                    }\r\n                }\r\n\r\n\r\n                //監聽\r\n                var iid = setInterval(function (){\r\n\r\n                    // 若全部狀態尚未完成\r\n                    if (local.is_trigger_callback(target_obj) === false) return true;\r\n\r\n                    // 停止監聽\r\n                    clearInterval(iid);\r\n\r\n                    // 添加到結束紀錄盒\r\n                    var data = local.push_endbox(model_name)\r\n\r\n                    // 呈現在 html 屬性中\r\n                    local.set_display_attr(target_obj, data);\r\n\r\n                    // 觸發回調\r\n                    if (type_listen == \"boolean\") return true;\r\n                    \r\n                    target_obj.vmodel_get_callback();\r\n\r\n                }, 0);\r\n\r\n                return true\r\n            }\r\n        }\r\n\r\n        // 無論是否觸發使用者的 autoload(), 最後都會返回該實體化的物件\r\n        return $.vmodel._storage[model_name];\r\n    }\r\n\r\n}( jQuery ));","(function ($) {\r\n\r\n    /**\r\n     * 取得執行完成的歷史紀錄\r\n     * @param   model_name   倉儲名稱\r\n     * @return               result 物件\r\n     */\r\n    $.vmodel.history = function (model_name) {\r\n\r\n        var result = {\r\n            status: false,\r\n            data: null\r\n        };\r\n\r\n        // 從結束紀錄盒找到對應\r\n        var storage   = $.vmodel.get(model_name);\r\n        var endbox = $.vmodel.api.endbox(\"get\");\r\n        if ($(endbox).length === 0) return result;\r\n\r\n        // 搜尋\r\n        $.each(endbox, function (key, info){\r\n\r\n            // 比對不到就繼續比對下一個\r\n            if (info.vname != model_name) return true;\r\n\r\n            // 比對到了則修改狀態，並結束尋找\r\n            result.status = true;\r\n            result.data = info;\r\n\r\n            return false;\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n}( jQuery ));","(function ($) {\r\n\r\n    /**\r\n     * 當指定多組的倉儲模組化完成後，要觸發的方法\r\n     *\r\n     * 注意，這需要每個模組都使用監聽完成視覺化，也就是 $.vmodel.get() 第三個參數\r\n     * \r\n     * @param   array | function     end_p1       監聽指定要完成的倉儲名稱陣列 | 回調方法\r\n     * @param   function             end_p2       回調方法, 並夾帶已經完成的倉儲物件\r\n     */\r\n    $.vmodel.end = function (end_p1, end_p2){\r\n\r\n        var local = this;\r\n\r\n        var issuccess = true;\r\n\r\n        /**\r\n         * 組合成一個陣列回傳參數\r\n         * @param   end_p1 \r\n         * @param   end_p2 \r\n         * @return  [要監聽的倉儲物件, callback()]\r\n         */\r\n        this.param_match = function(end_p1, end_p2) {\r\n            var returnary = [];\r\n\r\n            // 只有一個參數，就取得所有倉儲\r\n            if ($.type(end_p1) == \"function\") {\r\n                var storage = $.vmodel.get();\r\n                returnary = [storage, end_p1];\r\n            }\r\n            // 兩個參數，代表有指定要取得的倉儲\r\n            else {\r\n\r\n                var obj = {};\r\n                $.each(end_p1, function(key, name) {\r\n                    obj[name] = $.vmodel.get(name);\r\n                });\r\n                returnary = [obj, end_p2];\r\n            }\r\n\r\n            return returnary;\r\n        }\r\n\r\n        //命名方便使用\r\n        var pary     = local.param_match(end_p1, end_p2);\r\n        var storage  = pary[0];\r\n        var callback = pary[1];\r\n        end_p1 = end_p2 = null;\r\n\r\n        var id = setInterval(function (){\r\n\r\n            var iscallback = true;\r\n\r\n            // 檢查每個倉儲的視覺化狀態\r\n            $.each(storage, function (storage_name, obj){\r\n\r\n                // 取得執行完成的歷史紀錄\r\n                var result = $.vmodel.history(obj.vname);\r\n\r\n                // 若遇到其中一個倉儲為 false 代表還沒有完成，那就直接中斷\r\n                if (result.status === false) {\r\n                    iscallback = false;\r\n                    return false;\r\n                }\r\n\r\n                iscallback = true;\r\n            });\r\n\r\n\r\n            if (iscallback) {\r\n                callback(storage);\r\n                clearInterval(id);\r\n            }\r\n\r\n\r\n        }, 20);\r\n        \r\n    }\r\n\r\n}( jQuery ));","// 呼叫版本名稱\r\n$.vmodel.version = function (){\r\n\r\n    return $.vmodel._version;\r\n\r\n}\r\n","(function ($) {\r\n\r\n    // 內部全域的輔助方法\r\n    $.vmodel.api = new function (){\r\n\r\n        var history_box = [];\r\n\r\n        // 執行結束紀錄盒\r\n        this.endbox = function (action, data){\r\n            if (action == \"set\"){\r\n                history_box = data;\r\n            }\r\n            else if (action == \"get\"){\r\n                return history_box;\r\n            }\r\n        }\r\n\r\n        // 若前兩個字元是定位符號，就自動去除\r\n        this.remove_sign = function (str){\r\n            return (str.substring(0, 2) == \"--\") ? str.substring(2) : str;\r\n        }\r\n\r\n        /**\r\n         * 是否通過該版 vmodel 所允許的 jQuery 版本\r\n         * @param   is_err_msg              顯示錯誤訊息 true | 確認是否 false \r\n         */\r\n        this.isallow_jqver = function (is_err_msg){\r\n\r\n            // 若要顯示錯誤訊息\r\n            if (is_err_msg == true) {\r\n                return 'Vmodel.js ' + $.vmodel.version() + ' 須要使用大於 jQuery 3.0.0 的版本';\r\n            }\r\n            // 判斷是否允許版本\r\n            else {\r\n                var jver = jQuery.fn.jquery.charAt(0);\r\n                return (jver == 3) ? true : false;\r\n            }\r\n        }\r\n\r\n        // 確認必填參數\r\n        this.check_input_param = function (param) {\r\n            if (!param.selector)                throw(\"須要指定選擇器\");\r\n            if (!param.model_name)              throw(\"須要替模型命名\");\r\n            if (param.isautoload === undefined) throw(\"須要指定是否啟用\");\r\n            if (!param.method)                  throw(\"須要指定方法\");\r\n        }\r\n\r\n        /**\r\n         * 組合成一個陣列回傳參數\r\n         * @return  [選擇器, 倉儲名稱, 是否啟用 autoload, 實體化物件]\r\n         */\r\n        this.vmodel_param_match = function (p_1, p_2, p_3, p_4){\r\n\r\n\r\n            var selector   = p_1;\r\n            \r\n            // 去除定位符號\r\n            var model_name = this.remove_sign(p_2);\r\n            \r\n            var isautoload = p_3;\r\n            \r\n            var method     = $.type(p_4) === \"object\" ? p_4 : new p_4();\r\n\r\n            return [selector, model_name, isautoload, method];\r\n        }\r\n\r\n        // 物件排序\r\n        this.obj_sort = function (obj){\r\n            var temp = [];\r\n            var i = 0;\r\n            \r\n            $.each(obj, function(key, val) {\r\n                temp[i++] = key;\r\n            });\r\n            \r\n            temp.sort();\r\n\r\n            var data = {};\r\n            $.each(temp, function (key, val){\r\n                data[val] = obj[val]\r\n            });\r\n\r\n            return data;\r\n        }\r\n\r\n        /**\r\n         * 批次呼叫可自動掛載的 function\r\n         * @param   autoload_method_ary     需要觸發的 function 名稱陣列\r\n         * @param   object                  也就是外部的實體化後的 $(selector).vmodel(\"匿名方法\")\r\n         */\r\n        this.each_autoload = function (autoload_method_ary, obj){\r\n\r\n            if (!autoload_method_ary) return false;\r\n\r\n            // 觸發狀態偵測盒\r\n            var is_trigger_all = {\r\n                status: true,\r\n                function_name: null\r\n            };\r\n\r\n            $.each(autoload_method_ary, function(key, name) {\r\n\r\n                // 若有找到方法\r\n                if ($.type(obj[name]) == \"function\") {\r\n                    // 觸發方法\r\n                    obj[name]();\r\n                    return true;\r\n                }\r\n\r\n                // 若沒有找到方法，那就中斷\r\n                is_trigger_all = {\r\n                    status: false,\r\n                    function_name: name\r\n                };\r\n\r\n                return false;\r\n            });\r\n\r\n            return is_trigger_all;\r\n        },\r\n\r\n        /**\r\n         * 若使用者有設定 autoload() 就會自動呼叫陣列中指定的方法\r\n         * @param obj      也就是外部的實體化後的 $(selector).vmodel(\"匿名方法\")\r\n         * @param fnameary 須要自動讀取的方法陣列\r\n         */\r\n        this.is_trigger_autoload = function (obj, fnameary){\r\n\r\n            var result = {\r\n                status: false,\r\n                message: null\r\n            }\r\n\r\n            try {\r\n                \r\n                if (!fnameary) {\r\n                    throw \"須要指定方法名稱陣列\";\r\n                }\r\n                \r\n                if ($.type(fnameary) != \"array\") {\r\n                    throw 'autoload 必須要是陣列';\r\n                }\r\n                \r\n                var result = $.vmodel.api.each_autoload(fnameary, obj);\r\n\r\n                if (result.status === true) return true;\r\n\r\n                throw  '找不到可以自動讀取的方法 ' + result.function_name + '()';\r\n\r\n                result.status = true;\r\n            }\r\n            catch(e) {\r\n                result = {\r\n                    status: false,\r\n                    message: e\r\n                }\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        // 從物件中取得 autoload 的方法陣列\r\n        this.get_autoload_funame = function (obj){\r\n            var ary   = [];\r\n            var atype = $.type(obj.autoload);\r\n            var result = {\r\n                status: true,\r\n                message: null,\r\n                data: null\r\n            }\r\n\r\n            try{\r\n                // 取得 autoload 的陣列\r\n                if (atype == \"array\") {\r\n                    ary = obj.autoload;\r\n                } \r\n                else if (atype == \"function\") {\r\n                \r\n                    // 若有回傳陣列才替換\r\n                    res = obj.autoload();\r\n                    if ($.type(res) == \"array\") {\r\n                        ary = res;\r\n                    }\r\n                    else {\r\n                        throw \"中 autoload 最終需要得到的型態務必是 Array。\";\r\n                    }\r\n                }\r\n\r\n                else {\r\n                    throw \"中 autoload 須要是陣列或 function。\";\r\n                }\r\n\r\n                result.data = ary;\r\n            }\r\n            catch(e) {\r\n                result.status = false;\r\n                result.message = e;\r\n            }\r\n\r\n            return result;\r\n        }\r\n    }\r\n\r\n}( jQuery ));","(function ($) {\r\n\r\n    \r\n    //整體使用\r\n    $.vmodel = {\r\n        _version: '1.7.6',\r\n\r\n        // 實體化的存放倉儲，提供內部呼叫。\r\n        _storage: {}\r\n    };\r\n\r\n\r\n\r\n}( jQuery ));\r\n"],"sourceRoot":""}